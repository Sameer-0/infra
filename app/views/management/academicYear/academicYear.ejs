<%- include("../partials/head") %>
<%- include("../partials/leftSidebar") %>
<%- include("../partials/header") %>
<!--Notificaion icon-->
<!--HEADER END-->

<div class="main-content">
    <!--DASHBOARD CONTENT START-->
    <div class="card table-card">
        <div class="card-header table-card-header text-uppercase d-flex align-items-center">
            <h5>Current Academic Year Details</h5>
        </div>
        <div class="card-body table-responsive">
            <table class="table custom_row">
                <thead>
                    <th>Academic Year</th>
                    <th>Start Date</th>
                    <th>End Date</th>
                    <th>Action</th>
                    <th>Enable/ Disable</th>
                </thead>
                <tbody>
                    <form action="/management/academic/academic-year" method="POST">
                        <tr>
                            <td>
                                <input class="form-control" type="hidden" value="<%- academicDetails.id %>" name="id"
                                    required>
                                <input class="form-control" type="number" value="<%- academicDetails.input_acad_year %>"
                                    min="2021" max="2099" name="acadYear" required>
                            </td>
                            <td>
                                <input class="form-control" type="date" value="<%- academicDetails.start_date %>"
                                    name="startDate" required>
                            </td>
                            <td>
                                <input class="form-control" type="date" value="<%- academicDetails.end_date %>"
                                    name="endDate" required>
                            </td>
                            <td>
                                <button type="submit" class="btn btn-dark">Update</button>
                            </td>
                            <td>
                                <% if(academicDetails.active =="1") {%>
                                <div
                                    class="form-check form-switch form-check form-switch p-0 d-flex justify-content-center">
                                    <input class="form-check-input" type="checkbox" value="0" title="Enable"
                                        role="switch" id="enabledisableacadYear" checked>
                                </div>
                                <%}else{%>
                                <div
                                    class="form-check form-switch form-check form-switch p-0 d-flex justify-content-center">
                                    <input class="form-check-input" type="checkbox" value="1" title="Enable"
                                        role="switch" id="enabledisableacadYear">
                                </div>
                                <%}%>
                            </td>
                        </tr>
                    </form>
                </tbody>
            </table>
        </div>
    </div>
</div>
<!--DASHBOARD CONTENT END-->



<%- include("../partials/footer") %>


                                <script>
                                    $(document).ready(function () {


                                        $("#enabledisableacadYear").on('change', function () {
                                            let checkboxvalue = $(this).val()
                                            console.log('checkboxvalue::::::::::', checkboxvalue)

                                            let ApiObj = {
                                                url: '/management/academic/academic-year',
                                                type: 'PUT',
                                                data: {
                                                    checkboxvalue: checkboxvalue
                                                },
                                                dataType: 'JSON'
                                            }
                                            ajaxApi(ApiObj).then(result => {
                                                console.log('Resulr:::::::::::::>', result)
                                                location.reload()

                                            }).catch(error => {

                                            })
                                        })
                                    })
                                </script>

                                <%- include("../partials/footerEnd") %>